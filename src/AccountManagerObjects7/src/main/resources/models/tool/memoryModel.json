{
	"name": "tool.memory",
	"inherits": ["data.directory", "common.dateTime"],
	"vectorize": true,
	"description": "Discrete memory entry (engram) capturing key notes, discoveries, behaviors, outcomes, and insights from conversations and agent interactions. Inherits createdDate/modifiedDate from data.directory for extraction timestamps.",
	"fields": [
		{
			"name": "content",
			"type": "string",
			"description": "Full memory text"
		},
		{
			"name": "summary",
			"type": "string",
			"maxLength": 512,
			"description": "Concise one-line summary"
		},
		{
			"name": "memoryType",
			"type": "enum",
			"baseClass": "org.cote.accountmanager.schema.type.MemoryTypeEnumType",
			"maxLength": 32,
			"default": "NOTE"
		},
		{
			"name": "importance",
			"type": "int",
			"default": 5,
			"description": "1 (low) to 10 (critical)"
		},
		{
			"name": "sourceUri",
			"type": "string",
			"description": "am7:// URI to source conversation, chat config, or plan"
		},
		{
			"name": "sourceContext",
			"type": "string",
			"maxLength": 512,
			"description": "Brief description of originating context"
		},
		{
			"name": "annotations",
			"type": "string"
		},
		{
			"name": "conversationId",
			"type": "string",
			"maxLength": 128
		},
		{
			"name": "personId1",
			"type": "long",
			"description": "First person ID in canonical (lower) order for cross-conversation pair retrieval"
		},
		{
			"name": "personId2",
			"type": "long",
			"description": "Second person ID in canonical (higher) order for cross-conversation pair retrieval"
		},
		{
			"name": "personModel",
			"type": "string",
			"maxLength": 64,
			"description": "Model type of the person records (e.g. identity.person, olio.charPerson)"
		},
		{
			"name": "person1Model",
			"type": "string",
			"maxLength": 64
		},
		{
			"name": "person1",
			"baseModel": "$flex",
			"type": "model",
			"foreign": true,
			"foreignType": "person1Model",
			"participantModel": "memory.person1",
			"description": "Foreign reference to first person in canonical order"
		},
		{
			"name": "person2Model",
			"type": "string",
			"maxLength": 64
		},
		{
			"name": "person2",
			"baseModel": "$flex",
			"type": "model",
			"foreign": true,
			"foreignType": "person2Model",
			"participantModel": "memory.person2",
			"description": "Foreign reference to second person in canonical order"
		}
	]
}
